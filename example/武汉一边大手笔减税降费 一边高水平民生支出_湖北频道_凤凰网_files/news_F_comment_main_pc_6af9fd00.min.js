define("news_F_comment#1.5.2/template", ["artTemplate#3.0.3"], function (e) {
  e = new e;
  var t = {}, s = [];
  s.push('<div class="mod-showAllComment">'), s.push('    <a href="{{cmtUrl}}" target="_blank" class="seeMore">{{checkMoreMsg}}&gt;&gt;</a>'), s.push('    <a href="javascript:void(0);" target="_blank" class="noMore pcNone">没有了，从头看看</a>'), s.push("</div>"), t.checkMore = e("checkMore", s.join(""));
  var i = [];
  i.push("{{if item}}"), i.push('    <div class="mod-articleCommentList">'), i.push('        <div class="mod-articleCommentBlock js_commentItem">'), i.push('            <p class="w-username">'), i.push("                {{if item.user_url}}"), i.push('                    <a href="{{item.user_url}}" target="_blank">{{item.uname}}</a>'), i.push("                {{else}}"), i.push("                    {{item.uname}}"), i.push("                {{/if}}"), i.push('                <span class="w-location">[{{item.ip_from}}网友]</span>'), i.push("            </p>"), i.push('            <div class="w-mid js_floor">'), i.push("                {{if item.basicParentList}}"), i.push("                    {{each item.basicParentList as parentItem parentIndex}}"), i.push('                        <div class="mod-articleCommentBlock mod-articleReplyBlock mod-articleReplyBlock-on mod-articleReplyBlockTowerFirst js_replyItem" data-quoteid="{{parentItem.comment_id}}">'), i.push('                            <span class="w-order">{{parentIndex + 1}}</span>'), i.push('                            <p class="w-username">'), i.push("                                {{if parentItem.user_url}}"), i.push('                                    <a href="{{parentItem.user_url}}" target="_blank">{{parentItem.uname}}</a>'), i.push("                                {{else}}"), i.push("                                    {{parentItem.uname}}"), i.push("                                {{/if}}"), i.push('                                <span class="w-location">[{{parentItem.ip_from}}网友]</span>'), i.push("                            </p>"), i.push('                            <p class="w-contentTxt">{{#parentItem.contents}}</p>'), i.push('                            <div class="w-bottomBar">'), i.push("                                {{if allowCmt}}"), i.push('                                    <span class="w-reply js_voteNreply">'), i.push('                                        <a href="#" class="w-rep-rec js_recm" data-quoteid="{{parentItem.comment_id}}"><span>推荐</span><em class="w-rep-num">{{parentItem.uptimes}}</em></a>'), i.push('                                            <em class="w-rep-line">/</em>'), i.push('                                            <a href="#" class="w-rep-reply js_reply" data-quoteid="{{parentItem.comment_id}}" data-status="0">回复</a>'), i.push('                                        <em class="w-rep-line">/</em>'), i.push('                                        <a class="w-report js_report" href="#" data-commentId="{{parentItem.comment_id}}">举报</a>'), i.push("                                    </span>"), i.push("                                {{/if}}"), i.push('                                <span class="w-commentTime"><em>{{parentItem.year}}-</em>{{parentItem.date}}-{{parentItem.time}}</span>'), i.push("                            </div>"), i.push("                        </div>"), i.push("                    {{/each}}"), i.push("                {{/if}}"), i.push("                {{if item.moreParentList}}"), i.push("                    {{each item.moreParentList as parentItem parentIndex}}"), i.push('                        <div class="mod-articleCommentBlock mod-articleReplyBlock mod-articleReplyBlock-on mod-articleReplyBlockTowerFirst js_replyItem js_lastReply" data-quoteid="{{parentItem.comment_id}}" data-status="0">'), i.push('                            <span class="w-order">{{parentIndex + threshold + 1}}</span>'), i.push('                            <p class="w-username">'), i.push("                                {{if parentItem.user_url}}"), i.push('                                    <a href="{{parentItem.user_url}}" target="_blank">{{parentItem.uname}}</a>'), i.push("                                {{else}}"), i.push("                                    {{parentItem.uname}}"), i.push("                                {{/if}}"), i.push('                                <span class="w-location">[{{parentItem.ip_from}}网友]</span>'), i.push("                            </p>"), i.push('                            <p class="w-contentTxt">{{#parentItem.contents}}</p>'), i.push('                            <div class="w-bottomBar">'), i.push("                                {{if allowCmt}}"), i.push('                                    <span class="w-reply js_voteNreply">'), i.push('                                        <a href="#" class="w-rep-rec js_recm" data-quoteid="{{parentItem.comment_id}}"><span>推荐</span><em class="w-rep-num">{{parentItem.uptimes}}</em></a>'), i.push('                                            <em class="w-rep-line">/</em>'), i.push('                                            <a href="#" class="w-rep-reply js_reply" data-quoteid="{{parentItem.comment_id}}" data-status="0">回复</a>'), i.push('                                        <em class="w-rep-line">/</em>'), i.push('                                        <a class="w-report js_report" href="#" data-commentId="{{parentItem.comment_id}}">举报</a>'), i.push("                                    </span>"), i.push("                                {{/if}}"), i.push('                                <span class="w-commentTime"><em>{{parentItem.year}}-</em>{{parentItem.date}}-{{parentItem.time}}</span>'), i.push("                            </div>"), i.push("                        </div>"), i.push("                    {{/each}}"), i.push('                    <div class="w-changeHideMore line_bottom js_unfolder"><a href="#" class="show"><span>点击展开隐藏楼层</span></a></div>'), i.push("                {{/if}}"), i.push("            </div>"), i.push('            <p class="w-contentTxt">{{#item.contents}}</p>'), i.push('            <div class="w-bottomBar"><span class="w-commentTime"><em>{{item.year}}-</em>{{item.date}}-{{item.time}}</span></div>'), i.push("        </div>"), i.push("    </div>"), i.push("{{/if}}"), t.cmtItem = e("cmtItem", i.join(""));
  var a = [];
  a.push("{{each cmtList as item index}}"), a.push('    <div class="mod-articleCommentList">'), a.push('        <div class="mod-articleCommentBlock js_commentItem" data-quoteid="{{item.comment_id}}">'), a.push('            <p class="w-username">'), a.push("                {{if item.user_url}}"), a.push('                    <a href="{{item.user_url}}" target="_blank">{{item.uname}}</a>'), a.push("                {{else}}"), a.push("                    {{item.uname}}"), a.push("                {{/if}}"), a.push('                <span class="w-location">[{{item.ip_from}}网友]</span>'), a.push("            </p>"), a.push('            <div class="w-mid js_floor">'), a.push("                {{if item.basicParentList}}"), a.push("                    {{each item.basicParentList as parentItem parentIndex}}"), a.push('                        <div class="mod-articleCommentBlock mod-articleReplyBlock mod-articleReplyBlock-on mod-articleReplyBlockTowerFirst js_replyItem" data-quoteid="{{parentItem.comment_id}}">'), a.push('                            <span class="w-order">{{parentIndex + 1}}</span>'), a.push('                            <p class="w-username">'), a.push("                                {{if parentItem.user_url}}"), a.push('                                    <a href="{{parentItem.user_url}}" target="_blank">{{parentItem.uname}}</a>'), a.push("                                {{else}}"), a.push("                                    {{parentItem.uname}}"), a.push("                                {{/if}}"), a.push('                                <span class="w-location">[{{parentItem.ip_from}}网友]</span>'), a.push("                            </p>"), a.push('                            <p class="w-contentTxt">{{#parentItem.contents}}</p>'), a.push('                            <div class="w-bottomBar">'), a.push("                                {{if allowCmt}}"), a.push('                                    <span class="w-reply js_voteNreply">'), a.push('                                        <a href="#" class="w-rep-rec js_recm" data-quoteid="{{parentItem.comment_id}}"><span>推荐</span><em class="w-rep-num">{{parentItem.uptimes}}</em></a>'), a.push('                                            <em class="w-rep-line">/</em>'), a.push('                                            <a href="#" class="w-rep-reply js_reply" data-quoteid="{{parentItem.comment_id}}" data-status="0">回复</a>'), a.push('                                        <em class="w-rep-line">/</em>'), a.push('                                        <a class="w-report js_report" href="#" data-commentId="{{parentItem.comment_id}}">举报</a>'), a.push("                                    </span>"), a.push("                                {{/if}}"), a.push('                                <span class="w-commentTime"><em>{{parentItem.year}}-</em>{{parentItem.date}}-{{parentItem.time}}</span>'), a.push("                            </div>"), a.push("                        </div>"), a.push("                    {{/each}}"), a.push("                {{/if}}"), a.push("                {{if item.moreParentList}}"), a.push("                    {{each item.moreParentList as parentItem parentIndex}}"), a.push('                        <div class="mod-articleCommentBlock mod-articleReplyBlock mod-articleReplyBlock-on mod-articleReplyBlockTowerFirst js_replyItem js_lastReply" data-quoteid="{{parentItem.comment_id}}" data-status="0">'), a.push('                            <span class="w-order">{{parentIndex + threshold + 1}}</span>'), a.push('                            <p class="w-username">'), a.push("                                {{if parentItem.user_url}}"), a.push('                                    <a href="{{parentItem.user_url}}" target="_blank">{{parentItem.uname}}</a>'), a.push("                                {{else}}"), a.push("                                    {{parentItem.uname}}"), a.push("                                {{/if}}"), a.push('                                <span class="w-location">[{{parentItem.ip_from}}网友]</span>'), a.push("                            </p>"), a.push('                            <p class="w-contentTxt">{{#parentItem.contents}}</p>'), a.push('                            <div class="w-bottomBar">'), a.push("                                {{if allowCmt}}"), a.push('                                    <span class="w-reply js_voteNreply">'), a.push('                                        <a href="#" class="w-rep-rec js_recm"><span>推荐</span><em class="w-rep-num">{{parentItem.uptimes}}</em></a>'), a.push('                                            <em class="w-rep-line">/</em>'), a.push('                                            <a href="#" class="w-rep-reply js_reply">回复</a>'), a.push('                                        <em class="w-rep-line">/</em>'), a.push('                                        <a class="w-report js_report" href="#" data-commentId="{{parentItem.comment_id}}">举报</a>'), a.push("                                    </span>"), a.push("                                {{/if}}"), a.push('                                <span class="w-commentTime"><em>{{parentItem.year}}-</em>{{parentItem.date}}-{{parentItem.time}}</span>'), a.push("                            </div>"), a.push("                        </div>"), a.push("                    {{/each}}"), a.push('                    <div class="w-changeHideMore line_bottom js_unfolder"><a href="#" class="show"><span>点击展开隐藏楼层</span></a></div>'), a.push("                {{/if}}"), a.push("            </div>"), a.push('            <p class="w-contentTxt">{{#item.contents}}</p>'), a.push('            <div class="w-bottomBar">'), a.push("                {{if allowCmt}}"), a.push("                    {{if item.comment_id}}"), a.push('                        <span class="w-reply">'), a.push('                            <a href="#" class="w-rep-rec js_recm" data-quoteid="{{item.comment_id}}"><span>推荐</span><em class="w-rep-num">{{item.uptimes}}</em></a>'), a.push('                                <em class="w-rep-line">/</em>'), a.push('                                <a href="#" class="w-rep-reply js_reply" data-quoteid="{{item.comment_id}}" data-status="0" data-isbase="true">回复</a>'), a.push('                            <em class="w-rep-line">/</em>'), a.push('                            <a class="w-report js_report" href="#" data-commentId="{{item.comment_id}}">举报</a>'), a.push("                        </span>"), a.push("                    {{/if}}"), a.push("                {{/if}}"), a.push('                <span class="w-commentTime"><em>{{item.year}}-</em>{{item.date}}-{{item.time}}</span>'), a.push("            </div>"), a.push("        </div>"), a.push("    </div>"), a.push("{{/each}}"), t.cmtList = e("cmtList", a.join(""));
  var n = [];
  n.push('<div class="zhezhao">&nbsp;</div>'), n.push('<div class="jubao">'), n.push('  <div class="jbClose">&nbsp;</div>'), n.push('  <div class="jbTit">'), n.push('    <div class="logo">'), n.push('      <img src="//p0.ifengimg.com/fe/responsiveDetail/images/logo.jpg" />'), n.push("    </div>"), n.push('    <div class="tt">举报</div>'), n.push("  </div>"), n.push('  <div class="jbTxt">'), n.push('    <div class="jbBox">'), n.push('      <div class="tit">您为什么要举报此信息？</div>'), n.push('      <ul class="jbList clearfix">'), n.push('        <li class="on clearfix">'), n.push("          <p>"), n.push('            <input type="radio">'), n.push("          </p>"), n.push("          <span>色情淫秽</span>"), n.push("        </li>"), n.push('        <li class="clearfix">'), n.push("          <p>"), n.push('            <input type="radio">'), n.push("          </p>"), n.push("          <span>骚扰谩骂</span>"), n.push("        </li>"), n.push('        <li class="clearfix">'), n.push("          <p>"), n.push('            <input type="radio">'), n.push("          </p>"), n.push("          <span>广告欺诈</span>"), n.push("        </li>"), n.push('        <li class="clearfix">'), n.push("          <p>"), n.push('            <input type="radio">'), n.push("          </p>"), n.push("          <span>反动</span>"), n.push("        </li>"), n.push('        <li class="clearfix">'), n.push("          <p>"), n.push('            <input type="radio">'), n.push("          </p>"), n.push("          <span>其他</span>"), n.push("        </li>"), n.push("      </ul>"), n.push("    </div>"), n.push('    <div class="jbBox">'), n.push('      <div class="tit">具体描述（选填）：</div>'), n.push('      <div class="jbText">'), n.push("        <textarea id=\"texts\" onfocus=\"if(value=='请描述恶意行为') {value=''}\" onblur=\"if(value=='') {value='请描述恶意行为'}\">请描述恶意行为</textarea>"), n.push("      </div>"), n.push("    </div>"), n.push('    <div class="jbBtn">'), n.push('      <input type="submit" value="提交" class="btnRed" id="submit">'), n.push('      <input type="submit" value="取消" class="btnBlue" id="cancle">'), n.push("    </div>"), n.push("  </div>"), n.push('  <div class="jbSuc">'), n.push("    <p>"), n.push("      <span>&nbsp;</span>举报成功，我们会尽快处理您的举报信息，请耐心等待。</p>"), n.push('    <div class="btn">我知道了</div>'), n.push("  </div>"), n.push("</div>"), n.push('<div class="js_hotCmtBlock"></div>'), n.push('<div class="ad640x90">'), n.push("  {{#ad640x90}}"), n.push("</div>"), n.push('<div class="js_newCmtBlock"></div>'), n.push('<div class="mod-commentTextarea js_textArea" style="display:none;">'), n.push('  <div class="mod-commentTextareaTitle js_head"></div>'), n.push('  <div class="mod-commentTextareaMiddle js_form"></div>'), n.push('  <div class="mod-commentTextareaUser js_user"></div>'), n.push("</div>"), n.push('<div class="js_checkMoreBlock" style="display:none;"></div>'), n.push('<div class="js_paging" style="display:none;"></div>'), t.comment = e("comment", n.join(""));
  var r = [];
  r.push("{{if item}}"), r.push('    <div class="mod-articleCommentList">'), r.push('        <div class="mod-articleCommentBlock js_commentItem">'), r.push('            <p class="w-username">'), r.push("                {{if item.user_url}}"), r.push('                    <a href="{{item.user_url}}" target="_blank">{{item.uname}}</a>'), r.push("                {{else}}"), r.push("                    {{item.uname}}"), r.push("                {{/if}}"), r.push('                <span class="w-location">[{{item.ip_from}}网友]</span>'), r.push("            </p>"), r.push("            {{#floorHtml}}"), r.push('            <p class="w-contentTxt">{{#item.contents}}</p>'), r.push('            <div class="w-bottomBar"><span class="w-commentTime"><em>{{item.year}}-</em>{{item.date}}-{{item.time}}</span></div>'), r.push("        </div>"), r.push("    </div>"), r.push("{{/if}}"), t.floorReply = e("floorReply", r.join(""));
  var o = [];
  o.push("<form>"), o.push("    "), o.push('    <div class="w-areaBox  w-areaBox-focus">'), o.push('        <textarea name="content" class="w-commentArea js_cmtContent" cols="30" rows="10">{{cmtHint}}</textarea>'), o.push('        <span class="w-arr"></span>'), o.push('        <div class="plcg js_cmtSuccess" style="display:none;">评论成功</div>'), o.push("    </div>"), o.push('    <div class="w-submitBar">'), o.push('        <a href="#" class="w-submitBtn js_cmtSubmit" data-quoteid="{{quotId}}" data-isbase="{{isBase}}">发表评论</a>'), o.push('        <div class="i-commentFaceBox js_faceBox">'), o.push("            "), o.push('            <div class="mod-comment-inputFaceBox clearfix" {{if isMobile}}style="width:{{faceBoxWidth}}px" {{/if}}>'), o.push("                "), o.push('                <a href="#" class="w-face-trigger js_faceMore">'), o.push('                    <img src="//y0.ifengimg.com/a/2015/1130/face_1.png" title="微笑" alt="微笑"/>'), o.push('                    <span class="icon-faceTrigArr"></span>'), o.push("                </a>"), o.push('                <div class="mod-comment-nearlyFace">'), o.push('                    <ul class="mod-facesImg-list">'), o.push('                        <li><img src="//y0.ifengimg.com/a/2015/1130/face_2.png" title="大笑" alt="大笑"></li>'), o.push('                        <li><img src="//y0.ifengimg.com/a/2015/1130/face_4.png" title="可爱" alt="可爱"></li>'), o.push('                        <li><img src="//y0.ifengimg.com/a/2015/1130/face_15.png" title="冷汗" alt="冷汗"></li>'), o.push('                        <li class="phoneNone"><img src="//y0.ifengimg.com/a/2015/1130/face_10.png" title="雷到了" alt="雷到了"></li>'), o.push("                    </ul>"), o.push("                </div>"), o.push('                <div class="mod-comment-faceBox js_hideFaceBox">'), o.push('                    <div class="mod-face">'), o.push('                        <div class="arr"></div>'), o.push('                        <div class="mod-face-list clearfix">'), o.push('                            <span class="w-arr"></span>'), o.push('                            <ul class="mod-facesImg-list clearfix"  {{if isMobile}}style="padding-bottom:{{gapWidth}}px;"{{/if}}>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}}><img src="//y0.ifengimg.com/a/2015/1130/face_1.png" title="微笑" alt="微笑"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}}><img src="//y0.ifengimg.com/a/2015/1130/face_2.png" title="大笑" alt="大笑"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}}><img src="//y0.ifengimg.com/a/2015/1130/face_3.png" title="坏笑" alt="坏笑"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}}><img src="//y0.ifengimg.com/a/2015/1130/face_4.png" title="可爱" alt="可爱"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}}><img src="//y0.ifengimg.com/a/2015/1130/face_5.png" title="爱心" alt="爱心"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}}><img src="//y0.ifengimg.com/a/2015/1130/face_6.png" title="鬼脸" alt="鬼脸"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}}><img src="//y0.ifengimg.com/a/2015/1130/face_7.png" title="亲亲" alt="亲亲"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}} class="js_r3"><img src="//y0.ifengimg.com/a/2015/1130/face_8.png" title="思考" alt="思考"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}} class="js_r3"><img src="//y0.ifengimg.com/a/2015/1130/face_9.png" title="发怒" alt="发怒"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}} class="js_r3"><img src="//y0.ifengimg.com/a/2015/1130/face_10.png" title="雷到了" alt="雷到了"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}}><img src="//y0.ifengimg.com/a/2015/1130/face_11.png" title="闭嘴" alt="闭嘴"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}}><img src="//y0.ifengimg.com/a/2015/1130/face_12.png" title="不高兴" alt="不高兴"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}}><img src="//y0.ifengimg.com/a/2015/1130/face_13.png" title="哭泣" alt="哭泣"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}}><img src="//y0.ifengimg.com/a/2015/1130/face_14.png" title="吃惊" alt="吃惊"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}}><img src="//y0.ifengimg.com/a/2015/1130/face_15.png" title="冷汗" alt="冷汗"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}}><img src="//y0.ifengimg.com/a/2015/1130/face_16.png" title="发呆" alt="发呆"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}}><img src="//y0.ifengimg.com/a/2015/1130/face_17.png" title="咒骂" alt="咒骂"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}} class="js_r3"><img src="//y0.ifengimg.com/a/2015/1130/face_18.png" title="尴尬" alt="尴尬"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}} class="js_r3"><img src="//y0.ifengimg.com/a/2015/1130/face_19.png" title="呕吐" alt="呕吐"></li>'), o.push('                                <li {{if isMobile}}style="margin:{{gapWidth}}px 0 0 {{gapWidth}}px"{{/if}} class="js_r3"><img src="//y0.ifengimg.com/a/2015/1130/face_20.png" title="拜拜" alt="拜拜"></li>'), o.push("                            </ul>"), o.push('                            <div class="mod-facesImg-big js_bigFace" style="display: none;">'), o.push('                                <img src="//y0.ifengimg.com/a/2015/1130/face_1.png" title="微笑" alt="微笑">'), o.push("                                <p>微笑</p>"), o.push("                            </div>"), o.push("                        </div>"), o.push("                    </div>"), o.push("                </div>"), o.push("            </div>"), o.push("            "), o.push("        </div>"), o.push("    </div>"), o.push("</form>"), t.form = e("form", o.join(""));
  var p = [];
  p.push('<span class="w-rightBox" {{if !showCmtNum}}style="display: none;" {{/if}}>'), p.push('    <span class="w-com">'), p.push("        {{if isComment}}"), p.push('            <span class="w-num">{{cmtNum}}</span>'), p.push("        {{else}}"), p.push('            <a href="{{cmtUrl}}" target="_blank"><span class="w-num">{{cmtNum}}</span></a>'), p.push("        {{/if}}"), p.push('        <span class="w-txt">条评论</span>'), p.push("    </span>"), p.push('    <span class="w-line">/</span>'), p.push('    <span class="w-reply">'), p.push("        {{if isComment}}"), p.push('            <span class="w-num">{{jnNum}}</span>'), p.push("        {{else}}"), p.push('            <a href="{{cmtUrl}}" target="_blank"><span class="w-num">{{jnNum}}</span></a>'), p.push("        {{/if}}"), p.push('        <span class="w-txt">人参与</span>'), p.push("    </span>"), p.push("</span>"), p.push('<span class="w-tips">网友评论</span>'), p.push('<span class="w-tips phoneNone">｜</span>'), p.push('<a href="//comment.ifeng.com/content/gongyue/gtgl.html" target="_blank" class="w-tips phoneNone">跟帖管理</a>'), p.push('<span class="w-tips">｜</span>'), p.push('<a href="//news.ifeng.com/ask/index.shtml" target="_blank" class="w-tips">举报</a>'), t.head = e("head", p.join(""));
  var l = [];
  l.push("{{if cmtList}}"), l.push('    <div class="mod-commentNewTitle">'), l.push("        最热评论"), l.push("    </div>"), l.push('    <div class="mod-commentNew js_cmtList" {{if limitHeight}}style="height:{{height}}px;overflow:auto" {{/if}}>'), l.push("        {{each cmtList as item index}}"), l.push('            <div class="mod-articleCommentList">'), l.push('                <div class="mod-articleCommentBlock js_commentItem" data-quoteid="{{item.comment_id}}">'), l.push('                    <p class="w-username">'), l.push("                        {{if item.user_url}}"), l.push('                            <a href="{{item.user_url}}" target="_blank">{{item.uname}}</a>'), l.push("                        {{else}}"), l.push("                            {{item.uname}}"), l.push("                        {{/if}}"), l.push('                        <span class="w-location">[{{item.ip_from}}网友]</span>'), l.push("                    </p>"), l.push('                    <div class="w-mid js_floor">'), l.push("                        {{if item.basicParentList}}"), l.push("                            {{each item.basicParentList as parentItem parentIndex}}"), l.push('                                <div class="mod-articleCommentBlock mod-articleReplyBlock mod-articleReplyBlock-on mod-articleReplyBlockTowerFirst js_replyItem" data-quoteid="{{parentItem.comment_id}}">'), l.push('                                    <span class="w-order">{{parentIndex + 1}}</span>'), l.push('                                    <p class="w-username">'), l.push("                                        {{if parentItem.user_url}}"), l.push('                                            <a href="{{parentItem.user_url}}" target="_blank">{{parentItem.uname}}</a>'), l.push("                                        {{else}}"), l.push("                                            {{parentItem.uname}}"), l.push("                                        {{/if}}"), l.push('                                        <span class="w-location">[{{parentItem.ip_from}}网友]</span>'), l.push("                                    </p>"), l.push('                                    <p class="w-contentTxt">{{#parentItem.contents}}</p>'), l.push('                                    <div class="w-bottomBar">'), l.push("                                        {{if allowCmt}}"), l.push('                                            <span class="w-reply js_voteNreply">'), l.push('                                                <a href="#" class="w-rep-rec js_recm" data-quoteid="{{parentItem.comment_id}}"><span>推荐</span><em class="w-rep-num">{{parentItem.uptimes}}</em></a>'), l.push('                                                    <em class="w-rep-line">/</em>'), l.push('                                                    <a href="#" class="w-rep-reply js_reply" data-quoteid="{{parentItem.comment_id}}" data-status="0">回复</a>'), l.push('                                                <em class="w-rep-line">/</em>'), l.push('                                                <a class="w-report js_report" href="#" data-commentId="{{parentItem.comment_id}}">举报</a>'), l.push("                                            </span>"), l.push("                                        {{/if}}"), l.push('                                        <span class="w-commentTime"><em>{{parentItem.year}}-</em>{{parentItem.date}}-{{parentItem.time}}</span>'), l.push("                                    </div>"), l.push("                                </div>"), l.push("                            {{/each}}"), l.push("                        {{/if}}"), l.push("                        {{if item.moreParentList}}"), l.push("                            {{each item.moreParentList as parentItem parentIndex}}"), l.push('                                <div class="mod-articleCommentBlock mod-articleReplyBlock mod-articleReplyBlock-on mod-articleReplyBlockTowerFirst js_replyItem js_lastReply" data-quoteid="{{parentItem.comment_id}}" data-status="0">'), l.push('                                    <span class="w-order">{{parentIndex + threshold + 1}}</span>'), l.push('                                    <p class="w-username">'), l.push("                                        {{if parentItem.user_url}}"), l.push('                                            <a href="{{parentItem.user_url}}" target="_blank">{{parentItem.uname}}</a>'), l.push("                                        {{else}}"), l.push("                                            {{parentItem.uname}}"), l.push("                                        {{/if}}"), l.push('                                        <span class="w-location">[{{parentItem.ip_from}}网友]</span>'), l.push("                                    </p>"), l.push('                                    <p class="w-contentTxt">{{#parentItem.contents}}</p>'), l.push('                                    <div class="w-bottomBar">'), l.push("                                        {{if allowCmt}}"), l.push('                                            <span class="w-reply js_voteNreply">'), l.push('                                                <a href="#" class="w-rep-rec js_recm"><span>推荐</span><em class="w-rep-num">{{parentItem.uptimes}}</em></a>'), l.push('                                                    <em class="w-rep-line">/</em>'), l.push('                                                    <a href="#" class="w-rep-reply js_reply">回复</a>'), l.push('                                                <em class="w-rep-line">/</em>'), l.push('                                                <a class="w-report js_report" href="#" data-commentId="{{parentItem.comment_id}}">举报</a>'), l.push("                                            </span>"), l.push("                                        {{/if}}"), l.push('                                        <span class="w-commentTime"><em>{{parentItem.year}}-</em>{{parentItem.date}}-{{parentItem.time}}</span>'), l.push("                                    </div>"), l.push("                                </div>"), l.push("                            {{/each}}"), l.push('                            <div class="w-changeHideMore line_bottom js_unfolder"><a href="#" class="show"><span>点击展开隐藏楼层</span></a></div>'), l.push("                        {{/if}}"), l.push("                    </div>"), l.push('                    <p class="w-contentTxt">{{#item.contents}}</p>'), l.push('                    <div class="w-bottomBar">'), l.push("                        {{if allowCmt}}"), l.push("                            {{if item.comment_id}}"), l.push('                                <span class="w-reply">'), l.push('                                    <a href="#" class="w-rep-rec js_recm" data-quoteid="{{item.comment_id}}"><span>推荐</span><em class="w-rep-num">{{item.uptimes}}</em></a>'), l.push('                                        <em class="w-rep-line">/</em>'), l.push('                                        <a href="#" class="w-rep-reply js_reply" data-quoteid="{{item.comment_id}}" data-status="0" data-isbase="true">回复</a>'), l.push('                                    <em class="w-rep-line">/</em>'), l.push('                                    <a class="w-report js_report" href="#" data-commentId="{{item.comment_id}}">举报</a>'),
    l.push("                                </span>"), l.push("                            {{/if}}"), l.push("                        {{/if}}"), l.push('                        <span class="w-commentTime">'), l.push("                            <em>{{item.year}}-</em>{{item.date}}-{{item.time}}"), l.push("                        </span>"), l.push("                    </div>"), l.push("                </div>"), l.push("            </div>"), l.push("        {{/each}}"), l.push("    </div>"), l.push("{{/if}}"), t.hotCmtList = e("hotCmtList", l.join(""));
  var c = [];
  c.push('<a class="w-name">一键登录：&nbsp;</a>'), c.push("<a href='#' class=\"js_ifeng_account\">凤凰帐号</a>"), c.push('<span class="w-line">/</span>'), c.push("<a href='#' class=\"js_sina_account\">新浪微博</a>"), t.login = e("login", c.join(""));
  var m = [];
  m.push('<div class="mod-commentNewTitle">最新评论</div>'), m.push('<div class="mod-commentNew js_cmtList" {{if limitHeight}}style="height:{{height}}px;overflow:auto" {{/if}}>'), m.push("    {{#adHtml}}"), m.push("    {{each cmtList as item index}}"), m.push('        <div class="mod-articleCommentList">'), m.push('            <div class="mod-articleCommentBlock js_commentItem" data-quoteid="{{item.comment_id}}">'), m.push('                <p class="w-username">'), m.push("                    {{if item.user_url}}"), m.push('                        <a href="{{item.user_url}}" target="_blank"> {{item.uname}} </a>'), m.push("                    {{else}}"), m.push("                        {{item.uname}}"), m.push("                    {{/if}}"), m.push('                    <span class="w-location">[{{item.ip_from}}网友]</span>'), m.push("                </p>"), m.push('                <div class="w-mid js_floor">'), m.push("                    {{if item.basicParentList}}"), m.push("                        {{each item.basicParentList as parentItem parentIndex}}"), m.push('                            <div class="mod-articleCommentBlock mod-articleReplyBlock mod-articleReplyBlock-on mod-articleReplyBlockTowerFirst js_replyItem" data-quoteid="{{parentItem.comment_id}}">'), m.push('                                <span class="w-order">{{parentIndex + 1}}</span>'), m.push('                                <p class="w-username">'), m.push("                                    {{if parentItem.user_url}}"), m.push('                                        <a href="{{parentItem.user_url}}" target="_blank">{{parentItem.uname}}</a>'), m.push("                                    {{else}}"), m.push("                                        {{parentItem.uname}}"), m.push("                                    {{/if}}"), m.push('                                    <span class="w-location">[{{parentItem.ip_from}}网友]</span>'), m.push("                                </p>"), m.push('                                <p class="w-contentTxt">{{#parentItem.contents}}</p>'), m.push('                                <div class="w-bottomBar">'), m.push("                                    {{if allowCmt}}"), m.push('                                        <span class="w-reply js_voteNreply">'), m.push('                                            <a href="#" class="w-rep-rec js_recm" data-quoteid="{{parentItem.comment_id}}"><span>推荐</span><em class="w-rep-num">{{parentItem.uptimes}}</em></a>'), m.push('                                                <em class="w-rep-line">/</em>'), m.push('                                                <a href="#" class="w-rep-reply js_reply" data-quoteid="{{parentItem.comment_id}}" data-status="0">回复</a>'), m.push('                                            <em class="w-rep-line">/</em>'), m.push('                                            <a class="w-report js_report" href="#" data-commentId="{{parentItem.comment_id}}">举报</a>'), m.push("                                        </span>"), m.push("                                    {{/if}}"), m.push('                                    <span class="w-commentTime"><em>{{parentItem.year}}-</em>{{parentItem.date}}-{{parentItem.time}}</span>'), m.push("                                </div>"), m.push("                            </div>"), m.push("                        {{/each}}"), m.push("                    {{/if}}"), m.push("                    {{if item.moreParentList}}"), m.push("                        {{each item.moreParentList as parentItem parentIndex}}"), m.push('                            <div class="mod-articleCommentBlock mod-articleReplyBlock mod-articleReplyBlock-on mod-articleReplyBlockTowerFirst js_replyItem js_lastReply" data-quoteid="{{parentItem.comment_id}}" data-status="0">'), m.push('                                <span class="w-order">{{parentIndex + threshold + 1}}</span>'), m.push('                                <p class="w-username">'), m.push("                                    {{if parentItem.user_url}}"), m.push('                                        <a href="{{parentItem.user_url}}" target="_blank">{{parentItem.uname}}</a>'), m.push("                                    {{else}}"), m.push("                                        {{parentItem.uname}}"), m.push("                                    {{/if}}"), m.push('                                    <span class="w-location">[{{parentItem.ip_from}}网友]</span>'), m.push("                                </p>"), m.push('                                <p class="w-contentTxt">{{#parentItem.contents}}</p>'), m.push('                                <div class="w-bottomBar">'), m.push("                                    {{if allowCmt}}"), m.push('                                        <span class="w-reply js_voteNreply">'), m.push('                                            <a href="#" class="w-rep-rec js_recm"><span>推荐</span><em class="w-rep-num">{{parentItem.uptimes}}</em></a>'), m.push('                                            <em class="w-rep-line">/</em>'), m.push('                                            <a href="#" class="w-rep-reply js_reply">回复</a>'), m.push('                                            <em class="w-rep-line">/</em>'), m.push('                                            <a class="w-report js_report" href="#" data-commentId="{{parentItem.comment_id}}">举报</a>'), m.push("                                        </span>"), m.push("                                    {{/if}}"), m.push('                                    <span class="w-commentTime"><em>{{parentItem.year}}-</em>{{parentItem.date}}-{{parentItem.time}}</span>'), m.push("                                </div>"), m.push("                            </div>"), m.push("                        {{/each}}"), m.push('                        <div class="w-changeHideMore line_bottom js_unfolder"><a href="#" class="show"><span>点击展开隐藏楼层</span></a></div>'), m.push("                    {{/if}}"), m.push("                </div>"), m.push('                <p class="w-contentTxt">{{#item.contents}}</p>'), m.push('                <div class="w-bottomBar">'), m.push("                    {{if allowCmt}}"), m.push("                        {{if item.comment_id}}"), m.push('                            <span class="w-reply">'), m.push('                                <a href="#" class="w-rep-rec js_recm" data-quoteid="{{item.comment_id}}"><span>推荐</span><em class="w-rep-num">{{item.uptimes}}</em></a>'), m.push('                                    <em class="w-rep-line">/</em>'), m.push('                                    <a href="#" class="w-rep-reply js_reply" data-quoteid="{{item.comment_id}}" data-status="0" data-isbase="true">回复</a>'), m.push('                                <em class="w-rep-line">/</em>'), m.push('                                <a class="w-report js_report" href="#" data-commentId="{{item.comment_id}}">举报</a>'), m.push("                            </span>"), m.push("                        {{/if}}"), m.push("                    {{/if}}"), m.push('                    <span class="w-commentTime"><em>{{item.year}}-</em>{{item.date}}-{{item.time}}</span>'), m.push("                </div>"), m.push("            </div>"), m.push("        </div>"), m.push("    {{/each}}"), m.push("</div>"), m.push("{{if noData}}"), m.push('    <div class="zanw">暂无评论，欢迎发表您的观点</div>'), m.push("{{/if}}"), t.newCmtList = e("newCmtList", m.join(""));
  var u = [];
  u.push('<div class="mod-page">'), u.push('    <a href="javascript:void(0);" class="w-num w-pre">&lt;</a>'), u.push('    <span href="javascript:void(0);" class="w-cur">1</span>'), u.push('    <a href="javascript:void(0);" class="w-num">2</a>'), u.push('    <a href="javascript:void(0);" class="w-num">3</a>'), u.push('    <a href="javascript:void(0);" class="w-num">4</a>'), u.push('    <a href="javascript:void(0);" class="w-num">5</a>'), u.push('    <a href="javascript:void(0);" class="w-num">6</a>'), u.push('    <a href="javascript:void(0);" class="w-num">7</a>'), u.push('    <a href="javascript:void(0);" class="w-num">8</a>'), u.push('    <a href="javascript:void(0);" class="w-num">9</a>'), u.push('    <a href="javascript:void(0);" class="w-num">10</a>'), u.push('    <a href="javascript:void(0);" class="w-num w-next">&gt;</a>'), u.push("</div>"), t.paging = e("paging", u.join(""));
  var h = [];
  h.push('<div class="mod-commentTextarea js_replyContainer">'), h.push('	<div class="mod-commentTextareaMiddle js_form"></div>'), h.push('	<div class="mod-commentTextareaUser js_user"></div>'), h.push("</div>"), t.replyContainer = e("replyContainer", h.join(""));
  var d = [];
  return d.push('<a href="{{user_center}}" class="w-name" target="_blank">{{uname}}</a>'), d.push('<span class="w-line">/</span>'), d.push('<a class="js_userLink" href="{{user_link}}" target="_blank">我的评论</a>'), d.push('<span class="w-line">/</span>'), d.push('<a href="{{logoutUrl}}" class="js_logout">退出</a>'), t.user = e("user", d.join("")), t.helper = function (t, s) {
    e.helper(t, s)
  }, t
}),
  define("news_F_comment#1.5.2", ["F_glue", "F_WidgetBase", "news_F_comment#1.5.2/template", "jquery#1.8.1", "cookie_global#1.0.2", "public_login"], function (e, t, s, i, a) {
  String.trim || (String.prototype.trim = function () {
    return this.replace(/^\s\s*/, "").replace(/\s\s*$/, "")
  }), Array.indexOf || (Array.prototype.indexOf = function (e) {
    for (var t = 0; t < this.length; t++) if (this[t] == e) return t;
    return -1
  });
  var nanalys = t.extend({
    version: "@VERSION",
    type: "news_F_comment",
    createModel: function () {
      this.logModel = e.modelFactory.define(function (e) {
        e.status = 0
      }),
        this.cmtPostUrl = "//comment.ifeng.com/post.php",
        this.cmtVoteUrl = "//comment.ifeng.com/vote.php",
        this.cmtViewUrl = "//comment.ifeng.com/view.php",
        this.cmtViewSpecialUrl = "//comment.ifeng.com/viewspecial.php",
        this.cmtNumUrl = "//comment.ifeng.com/get.php",
        this.cmtListUrl = "//comment.ifeng.com/get.php",
        this.replyLimit = 5, this.cmtHint = "文明上网，不传谣言，登录评论！",
        this.hotLimit = 2, this.newLimit = 2, this.allowCmt = !0, this.allowCmtAll = !0, this.cmtLength = 1e3, this.showCmtNum = !0, this.speUrl = "", this.cmtUrl = "", this.hasRenderAllowCmt = !1, this.user_centerLink = "//id.ifeng.com/my/info", this.sinaAPI = "https://api.weibo.com/oauth2/authorize?client_id=1073104718&redirect_uri=http%3A%2F%2Fid.ifeng.com%2Fcallback%2Fsina&response_type=code", this.logWin_width = 770, this.logWin_height = 630, this.logoutUrl = "//my.ifeng.com/?_c=index&amp;_a=logout&amp;backurl=" + window.location.href, this.allFace = ["微笑", "大笑", "坏笑", "可爱", "爱心", "鬼脸", "亲亲", "思考", "发怒", "雷到了", "闭嘴", "不高兴", "哭泣", "吃惊", "冷汗", "发呆", "咒骂", "尴尬", "呕吐", "拜拜"], this.limitHeight = !1, this.hotHeight = 500, this.newHeight = 500, this.isdetail = !1, this.userBlock = null, this.user = "", this.comments = {}, this.user_url = "", this.uname = "", this.adHtml = '<div class="waterDrop"></div>', this.ad640x90 = "", this.loadingDom = null, this.curIndex = 1, this.totalPageCount = 1, this.reportArr = [], this.reportName = "", this.indexNum = 0, this.commentId, this.timeNow = 0, this.clickRreportFlag = !1, this.clickDom
    }, resolveTemplate: function () {
      this.container = i("#" + this.container).addClass("mod-commentNew"), "pc" === e.device.type ? this.container.html(s.comment({ad640x90: this.ad640x90})) : this.container.html(s.comment({ad640x90: ""})), this.textArea = this.container.find(".js_textArea"), this.hotCmtBlock = this.container.find(".js_hotCmtBlock"), this.newCmtBlock = this.container.find(".js_newCmtBlock"), this.checkMore = this.container.find(".js_checkMoreBlock"), this.paging = this.container.find(".js_paging").addClass("mod-page"), this.loadingDom = i(this.loadingDom), this.maskDom = this.container.find(".zhezhao"), this.reportDom = this.container.find(".jubao"), this.choseDom = this.container.find(".jbTxt"), this.sucessDom = this.container.find(".jbSuc"), 1 == window.IS_LOGIN() ? (this.logModel.status = 1, this.loginCallback()) : this.logoutCallback();
      var t = this, n = {
        orderby: "uptimes",
        docUrl: this.docUrl,
        format: "js",
        job: this.isSpecial ? 9 : 1,
        p: 1,
        pageSize: this.hotLimit,
        callback: "commentListCallBack",
        skey: this.skey
      };
      if (this.hotLimit > 0 && (n.orderby = "uptimes", n.callback = "hotCommentListCallBack", t.showLoading(), i.ajax({
        url: this.cmtListUrl,
        dataType: "jsonp",
        data: n,
        jsonp: "callback",
        jsonpCallback: "hotCommentListCallBack",
        cache: !0,
        success: function (e) {
          if (e) {
            var i = e.comments;
            if (t.allowCmt = "undefined" == typeof e.allow_comment || 1 == e.allow_comment, !t.allowCmt && !e.count) return t.isdetail ? window.location.href = "//www.ifeng.com/404.html" : t.container.css("display", "none"), !1;
            if (t.allowCmt && t.renderAllowCmt(), i.length > 0) {
              var a = t.processComment(i, t.hotLimit);
              t.hotCmtBlock.html(s.hotCmtList({
                cmtList: a,
                threshold: t.replyLimit,
                limitHeight: t.limitHeight,
                height: t.hotHeight,
                allowCmt: t.allowCmt
              })), t.allowCmt && t.alreadyReport(t.hotCmtBlock), t.isComment && t.checkMore.show(), t.updateTitle(decodeURIComponent(i[0].doc_name))
            }
          }
          t.hideLoading()
        }
      })), this.newLimit > 0) {
        var r = {
          CoderBy: "create_time",
          order: "DES",
          docUrl: this.docUrl,
          format: "js",
          job: 11,
          p: 1,
          pageSize: 20,
          callback: "nopassCallBack",
          skey: this.skey,
          sid: a.getCookie("sid"),
          cmtids: a.getCookie("cmtids")
        };
        this.showLoading(), i.ajax({
          url: this.cmtListUrl,
          dataType: "jsonp",
          data: r,
          jsonp: "callback",
          jsonpCallback: "nopassCallBack",
          cache: !0,
          success: function (e) {
            n.orderby = "", n.callback = "newCommentListCallBack", n.pageSize = t.newLimit, i.ajax({
              url: t.cmtListUrl,
              dataType: "jsonp",
              data: n,
              jsonp: "callback",
              jsonpCallback: "newCommentListCallBack",
              cache: !0,
              success: function (i) {
                var n = e ? e : [], r = i && i.comments ? i.comments : [], o = n.concat(r);
                if (t.allowCmt = i && ("undefined" == typeof i.allow_comment || 1 == i.allow_comment), !t.allowCmt && !i.count) return t.isdetail ? window.location.href = "//www.ifeng.com/404.html" : t.container.css("display", "none"), !1;
                t.allowCmt && t.renderAllowCmt();
                var p = [];
                if (p = t.isComment ? t.processComment(o, t.newLimit + n.length) : t.processComment(o, t.newLimit), t.newCmtBlock.html(s.newCmtList({
                  cmtList: p,
                  noData: 0 == o.length && t.isComment,
                  adHtml: a.getCookie("hideAdHtml") || 1 != t.curIndex ? "" : t.adHtml,
                  threshold: t.replyLimit,
                  limitHeight: t.limitHeight,
                  height: t.newHeight,
                  allowCmt: t.allowCmt
                })), t.allowCmt && t.alreadyReport(t.newCmtBlock), t.isComment) {
                  t.totalPageCount = Math.ceil(i.count / t.newLimit);
                  var l = t.getPagingHtml(t.curIndex, t.totalPageCount);
                  t.paging.html(l).show()
                } else t.checkMore.show();
                i && i.comments && i.comments.length > 0 && t.updateTitle(decodeURIComponent(i.comments[0].doc_name)), t.hideLoading()
              }
            })
          }
        })
      }
      0 == this.newLimit && 0 == this.hotLimit && (n.orderby = "", n.callback = "newCommentListCallBack", i.ajax({
        url: this.cmtListUrl,
        dataType: "jsonp",
        data: n,
        jsonp: "callback",
        jsonpCallback: "newCommentListCallBack",
        cache: !0,
        success: function (e) {
          e && (t.allowCmt = "undefined" == typeof e.allow_comment || 1 == e.allow_comment, t.allowCmt ? t.renderAllowCmt() : t.isdetail ? window.location.href = "//www.ifeng.com/404.html" : t.container.css("display", "none")), e && e.comments && e.comments.length > 0 && t.updateTitle(decodeURIComponent(e.comments[0].doc_name))
        }
      })), this.isSpecial ? this.cmtUrl = this.cmtViewSpecialUrl + "?docUrl=" + encodeURIComponent(this.docUrl) + "&docName=" + encodeURIComponent(this.docTitle) + "&skey=" + this.skey + "&speUrl=" + this.speUrl + "&pcUrl=" + encodeURIComponent(this.pcUrl) : this.cmtUrl = this.cmtViewUrl + "?docUrl=" + encodeURIComponent(this.docUrl) + "&docName=" + encodeURIComponent(this.docTitle) + "&skey=" + this.skey + "&speUrl=" + this.speUrl + "&pcUrl=" + encodeURIComponent(this.pcUrl), this.isComment || this.checkMore.html(s.checkMore({
        cmtUrl: this.cmtUrl,
        checkMoreMsg: "查看全部评论"
      })), this.isComment || this.newLimit || this.checkMore.show()
    }, bindDomEvent: function () {
      var e, t = this;
      this.container.on("mouseover", ".js_replyItem", function (e) {
        i(this).find(".js_voteNreply").css("display", "inline-block")
      }), this.container.on("mouseout", ".js_replyItem", function (e) {
        i(this).find(".js_voteNreply").hide()
      }), this.container.on("click", ".js_report", function () {
        t.clickRreportFlag = !0, e = t.clickDom = i(this);
        var s = (new Date).getTime();
        return s = parseInt(s), t.commentId = i(this).attr("data-commentid"), s - t.timeNow >= 6e3 ? 0 == t.logModel.status ? (window.GLOBAL_LOGIN(), !1) : e.hasClass("w-report-already") ? !1 : (t.timeNow = s, t.maskDom.show(), t.reportDom.show(), !1) : e.hasClass("w-report-already") ? !1 : (t.timeNow = s, alert("您举报的过于频繁，请稍作休息。"), !1)
      }), this.reportDom.on("click", "#cancle,.jbClose,.btn", function () {
        return t.initReportDom(), !1
      }).on("click", ".jbList li", function () {
        return i(this).addClass("on").siblings().removeClass("on"), !1
      }).on("click", "#submit", function () {
        t.indexNum = t.indexNum + 1;
        var e = i(".jbList .on").text(), s = t.container.find("#texts").val();
        return i.ajax({
          url: "//comment.ifeng.com/report",
          type: "GET",
          dataType: "jsonp",
          jsonp: "callback",
          cache: !0,
          jsonpCallback: "reportCallback" + t.indexNum,
          data: {comment_id: t.commentId, type: e, content: s, format: "js"}
        }).always(function (e) {
          if (e) {
            var s = e.code;
            if (1 == s) {
              t.choseDom.hide(), t.sucessDom.show();
              var n = t.container.find("[data-commentid=" + t.commentId + "]");
              n.each(function (e, t) {
                i(t).addClass("w-report-already").text("已举报")
              }), t.reportArr.push(t.commentId);
              var r = JSON.stringify(t.reportArr);
              a.setCookie(t.reportName, "", r, 1440)
            } else 119 == s ? (t.initReportDom(), alert("您举报的过于频繁，请稍作休息。")) : (t.initReportDom(), alert("举报失败，请您稍后再试。"))
          }
        }), !1
      }), this.container.on("click", ".js_recm", function () {
        var e = i(this).attr("data-quoteid"), s = i(this).find("em");
        return i.ajax({
          url: t.cmtVoteUrl,
          dataType: "jsonp",
          data: {cmtId: e, job: "up", docUrl: t.docUrl, callback: "recmCallback", format: "js"},
          jsonp: "callback",
          jsonpCallback: "recmCallback",
          success: function (e) {
            var t = s.html() / 1;
            s.html(t + 1)
          }
        }), !1
      }), this.container.on("click", ".js_reply", function () {
        var e = i(this).text().trim(), n = i(this).attr("data-status"), r = "true" == i(this).attr("data-isbase");
        if ("回复" == e) {
          t.container.find(".js_replyContainer").hide(), t.container.find(".js_reply").text("回复"), i(this).text("取消");
          var o = null;
          if (o = i(this).closest(".js_replyItem").length > 0 ? i(this).closest(".js_replyItem") : i(this).closest(".js_commentItem"), "0" == n) {
            var p = i(this).attr("data-quoteId"), l = i(s.replyContainer()),
              c = s.form({quotId: p, isBase: r + "", cmtHint: t.cmtHint});
            if (l.find(".js_form").html(c), 0 == t.logModel.status || "" != a.getCookie("IF_REAL") && "0" != a.getCookie("IF_REAL")) l.find(".js_user").html(s.login()); else {
              t.userBlock.clone(!0, !0);
              l.find(".js_user").html(t.userBlock.clone(!0, !0))
            }
            o.append(l), i(this).attr("data-status", "1")
          } else o.find(">.js_replyContainer").show()
        } else i(this).text("回复"), i(this).closest(".js_commentItem").find(".js_replyContainer").hide();
        return !1
      }), this.container.on("focus", ".js_cmtContent", function () {
        i(this).val() == t.cmtHint && (i(this).val(""), i(this).css("color", "#000"))
      }), this.container.on("blur", ".js_cmtContent", function () {
        var e = i(this).val();
        "" == e && t.becomeDefault(i(this))
      }), this.container.on("click", ".js_faceMore", function () {
        return i(this).parent().parent().find(".js_hideFaceBox").toggle(), i(this).toggleClass("w-trigger-on"), !1
      }), this.container.on("mouseover", ".js_faceBox li", function () {
        var e = i(this).closest(".js_faceBox").find(".js_bigFace"), t = i(this).find("img"),
          s = t.attr("alt") || t.attr("title"), a = t.attr("src");
        e.find("img").attr("src", a), e.find("p").text(s), i(this).hasClass("js_r3") ? (e.removeClass("mod-facesImg-bigRight"), e.addClass("mod-facesImg-bigLeft")) : (e.removeClass("mod-facesImg-bigLeft"), e.addClass("mod-facesImg-bigRight")), e.show()
      }), this.container.on("mouseout", ".js_faceBox li", function () {
        var e = i(this).closest(".js_faceBox").find(".js_bigFace");
        e.hide()
      }), this.container.on("click", ".js_faceBox li", function () {
        var e = i(this).closest(".js_form").find(".js_cmtContent");
        e.val() == t.cmtHint && (e.val(""), e.css("color", "#000"));
        var s = i(this).find("img"), a = s.attr("alt") || s.attr("title"), n = e.val();
        e.val(n + "[" + a + "]")
      }), this.container.on("click", ".js_cmtSubmit", function () {
        if (0 == t.logModel.status) return window.GLOBAL_LOGIN(), !1;
        if ("undefined" == typeof a.getCookie("IF_REAL") || "0" != a.getCookie("IF_REAL")) return window.ReviewCheck(), !1;
        var e = (i(this), i(this).closest(".js_form")), s = e.find(".js_cmtSuccess"), n = e.find(".js_cmtContent"),
          r = n.val().trim(), o = i(this).attr("data-quoteId") / 1;
        if ("" == r || r == t.cmtHint) window.alert("请填写评论内容！"); else if (r.length > t.cmtLength) window.alert("评论内容过长，超过最大限制1000个字符！"); else {
          var p = {
            docUrl: t.docUrl,
            docName: t.docTitle,
            speUrl: t.speUrl,
            skey: t.skey,
            format: "js",
            content: r,
            callback: "postCmt",
            permalink: t.pcUrl
          };
          o && (p.quoteId = o), i.ajax({
            url: t.cmtPostUrl,
            data: p,
            dataType: "jsonp",
            jsonpCallback: "callback",
            jsonpCallback: "postCmt",
            cache: !0,
            success: function (r) {
              1 == r.code ? t.isComment ? window.location.reload() : (n.val(""), s.show(), setTimeout(function () {
                s.hide(), t.becomeDefault(n), o && e.closest(".js_replyContainer").parent().find(".js_reply").trigger("click");
                var r = {
                  job: 11,
                  format: "js",
                  docUrl: t.docUrl,
                  cmtids: a.getCookie("cmtids"),
                  callback: "getCurrentCmtcallback"
                };
                i.ajax({
                  url: t.cmtListUrl,
                  data: r,
                  dataType: "jsonp",
                  jsonp: "callback",
                  jsonpCallback: "getCurrentCmtcallback",
                  success: function (e) {
                    var s = t.processComment(e, 1);
                    t.renderUserCmt(s)
                  }
                }), t.checkMore.show();
                var p = t.newCmtBlock.offset().top;
                i(window).scrollTop(p)
              }, 1e3)) : r.message && r.message.length > 0 && window.alert(r.message)
            }
          })
        }
        return !1
      }), this.container.on("click", ".js_unfolder", function () {
        var e = i(this).find("a");
        return e.hasClass("show") ? (e.removeClass("show"), e.find("span").text("收起楼层"), i(this).siblings(".js_lastReply").show()) : (e.addClass("show"), e.find("span").text("展开楼层"), i(this).siblings(".js_lastReply").hide()), !1
      }), this.container.on("click", ".js_ifeng_account", function () {
        return window.GLOBAL_LOGIN(), !1
      }), this.container.on("click", ".js_sina_account", function () {
        return window.open(t.sinaAPI, t.logWin_width, t.logWin_height), window.GLOBAL_LOGIN(), !1
      }), this.container.on("click", ".js_paging .js_prePage", function () {
        return t.curIndex > 1 && t.turnToPage(t.curIndex - 1), !1
      }), this.container.on("click", ".js_paging .js_pageNum", function () {
        var e = parseInt(i(this).text());
        return t.turnToPage(e), !1
      }), this.container.on("click", ".js_paging .js_nextPage", function () {
        return t.curIndex != t.totalPageCount && t.turnToPage(t.curIndex + 1), !1
      }), this.container.on("click", ".js_shuidiClose", function () {
        i(".js_shuidiAd") && i(".js_shuidiAd").hide(), a.setCookie("hideAdHtml", ".ifeng.com", 1, 60)
      }), window.REG_LOGIN_CALLBACK(1, function (e) {
        t.logModel.status = 1
      })
    }, bindDataEvent: function () {
      var e = this;
      this.watch(this.logModel, "status", function (t) {
        1 == t ? e.loginCallback() : e.logoutCallback()
      })
    }, bindCustomEvent: function () {
    }, bindObserver: function () {
    }, renderer: function () {
    }, createComplete: function () {
    }, destroy: function () {
      nanalys.superclass.destroy.call(this)
    }, renderAllowCmt: function () {
      if (!this.hasRenderAllowCmt) {
        var e = this;
        this.head = this.container.find(".js_head"), this.cmtForm = this.container.find(".js_form"), this.user = this.container.find(".js_user"), this.cmtForm.html(s.form({
          quoteId: 0,
          cmtHint: this.cmtHint,
          speUrl: this.speUrl
        })), "undefined" != typeof window.PEOPLE_NUMBER && "undefined" !== window.COMMENT_NUMBER ? this.head.html(s.head({
          cmtNum: window.COMMENT_NUMBER,
          jnNum: window.PEOPLE_NUMBER,
          cmtUrl: this.cmtUrl,
          showCmtNum: this.showCmtNum,
          isComment: this.isComment
        })) : "undefined" != typeof window.__commentCount ? this.head.html(s.head({
          cmtNum: window.__commentCount[0],
          jnNum: window.__commentCount[1],
          cmtUrl: this.cmtUrl,
          showCmtNum: this.showCmtNum,
          isComment: this.isComment
        })) : i.ajax({
          url: this.cmtNumUrl,
          dataType: "jsonp",
          data: {doc_url: e.docUrl, callback: "getCmtNumCallBack", job: e.isSpecial ? 9 : 14, format: "js"},
          jsonp: "callback",
          jsonpCallback: "getCmtNumCallBack",
          cache: !0,
          success: function (t) {
            t && e.head.html(s.head({
              cmtNum: t.count,
              jnNum: t.join_count,
              cmtUrl: e.cmtUrl,
              showCmtNum: e.showCmtNum,
              isComment: e.isComment
            }))
          }
        }), this.textArea.show(), this.hasRenderAllowCmt = !0
      }
    }, loginCallback: function () {
      var e = this.cmtHint;
      this.cmtHint = "文明上网，不传谣言！", this.renderCmtContent(this.cmtHint, e);
      var t = a.getCookie("sid"), n = a.getCookie("IF_USER");
      this.uname = n, this.reportName = n + "rep";
      var r = a.getCookie(this.reportName);
      if (r && (this.reportArr = JSON.parse(r)), this.alreadyReport(this.container), this.clickRreportFlag) return this.clickDom.hasClass("w-report-already") ? !1 : (this.maskDom.show(), this.reportDom.show(), !1);
      var o = "//comment.ifeng.com/viewpersonal.php?uname=" + n;
      this.user_url = o;
      var p = {user_center: this.user_centerLink, uname: n, user_link: o, logoutUrl: this.logoutUrl};
      this.userBlock = i(s.user(p)), this.container.find(".js_user").html(this.userBlock.clone(!0, !0)), this.updateUser(t)
    }, logoutCallback: function () {
      var e = this.cmtHint;
      this.cmtHint = "文明上网，不传谣言，登录评论！", this.renderCmtContent(this.cmtHint, e), this.container.find(".js_user").html(s.login()), this.clickRreportFlag = !1
    }, renderCmtContent: function (e, t) {
      this.container.find(".js_cmtContent").each(function () {
        ("" == i(this).val() || i(this).val() == t) && i(this).val(e)
      })
    }, updateUser: function (e) {
      var t = this;
      if (e) {
        var s = "https://id.ifeng.com/api/getuid";
        i.ajax({
          url: s, dataType: "jsonp", cache: !0, data: {sid: e}, success: function (e) {
            e.data && e.data.guid && (t.user_url += "&guid=" + e.data.guid, t.userBlock.find(".js_userLink").attr("href", t.user_url), t.container.find(".js_userLink").attr("href", t.user_url))
          }
        })
      }
    }, resolveFace: function (e) {
      var t = e, s = /\[([^\]]*)\]/gim, i = e.match(s);
      if (i) for (var a = i.length, n = 0; a > n; n++) {
        var r = i[n].replace("[", "").replace("]", ""), o = this.allFace.indexOf(r) + 1,
          p = '<img src="//y0.ifengimg.com/a/2015/1130/face_' + o + '.png"/>';
        t = t.replace(i[n], p)
      }
      return t
    }, processComment: function (e, t) {
      for (var s = [], i = e.length, a = i > t ? t : i, n = 0; a > n; n++) {
        var r = e[n], o = r.comment_contents;
        e[n].contents = this.resolveFace(o);
        var p = r.uname;
        ("客户端用户" == p || "手机用户" == p) && (e[n].user_url = ""), "凤凰网友" == p && (r.user_url = "//comment.ifeng.com/viewpersonal.php?uname=" + p + "&guid=" + r.user_id);
        var l = r.comment_date;
        e[n].year = l.substr(0, 4), e[n].date = l.substr(5, 2), e[n].time = l.substr(8, 8);
        var c = this.reverseArr(r.parent), m = c.length, u = [], h = [], d = this.replyLimit, f = m > d ? d : m;
        if (m > 0) {
          for (var g = 0; f > g; g++) {
            var w = c[g], l = w.comment_date;
            c[g].year = l.substr(0, 4), c[g].date = l.substr(5, 2), c[g].time = l.substr(8, 8);
            var v = w.comment_contents;
            c[g].contents = this.resolveFace(v);
            var p = w.uname;
            ("客户端用户" == p || "手机用户" == p) && (c[g].user_url = ""), "凤凰网友" == p && (w.user_url = "//comment.ifeng.com/viewpersonal.php?uname=" + p + "&guid=" + w.user_id), u.push(c[g])
          }
          e[n].basicParentList = u
        }
        if (m > d) {
          for (var _ = d; m > _; _++) {
            var w = c[_], l = w.comment_date;
            w.year = l.substr(0, 4), w.date = l.substr(5, 2), w.time = l.substr(8, 8);
            var v = w.comment_contents;
            w.contents = this.resolveFace(v);
            var p = w.uname;
            ("客户端用户" == p || "手机用户" == p) && (w.user_url = ""), "凤凰网友" == p && (w.user_url = "//comment.ifeng.com/viewpersonal.php?uname=" + p + "&guid=" + w.user_id), h.push(w)
          }
          e[n].moreParentList = h
        }
        s.push(e[n])
      }
      return s
    }, reverseArr: function (e) {
      for (var t = e.length, s = Math.floor(t / 2), i = 0; s > i; i++) {
        var a = e[i];
        e[i] = e[t - i - 1], e[t - i - 1] = a
      }
      return e
    }, renderUserCmt: function (e) {
      this.newCmtBlock.html() ? (this.newCmtBlock.find(".js_cmtList").prepend(i(s.cmtItem({
        item: e[0],
        allowCmt: this.allowCmt
      }))), this.newCmtBlock.find(".js_cmtList").children().length > 1 && this.newCmtBlock.find(".js_cmtList").children().last().remove()) : this.newCmtBlock.html(s.newCmtList({
        cmtList: e,
        adHtml: a.getCookie("hideAdHtml") || 1 != _this.curIndex ? "" : _this.adHtml,
        threshold: this.replyLimit,
        limitHeight: this.limitHeight,
        height: this.newHeight,
        allowCmt: this.allowCmt
      }))
    }, becomeDefault: function (e) {
      e.val(this.cmtHint), e.css("color", "#999")
    }, showLoading: function () {
      this.loadingDom && this.loadingDom.show()
    }, hideLoading: function () {
      this.loadingDom && this.loadingDom.hide()
    }, getPagingHtml: function (e, t) {
      var s = "";
      if (t > 0) {
        var i = "w-num";
        1 == e && (i = "w-dumb"), s = '<a href="javascript:void(0);" class="' + i + ' w-pre js_prePage">&lt;</a>';
        for (var a = 0, n = 5; n > 0; n--) e - n > 0 && (s += '<a href="javascript:void(0);" class="w-num js_pageNum">' + (e - n) + "</a>", a++);
        s += '<span href="javascript:void(0);" class="w-cur">' + e + "</span>";
        for (var r = 1; 10 - a > r; r++) t + 1 > e + r && (s += '<a href="javascript:void(0);" class="w-num js_pageNum">' + (e + r) + "</a>");
        i = "w-num", e == t && (i = "w-dumb"), s += '<a href="javascript:void(0);" class="' + i + ' w-next js_nextPage">&gt;</a>'
      }
      return s
    }, turnToPage: function (e) {
      var t = this;
      this.curIndex = e;
      var n = {
        orderby: "",
        docUrl: this.docUrl,
        format: "js",
        job: this.isSpecial ? 9 : 1,
        p: e,
        pageSize: this.newLimit,
        callback: "newCommentListCallBack",
        skey: this.skey
      };
      this.loadingDom && this.loadingDom.show(), i.ajax({
        url: t.cmtListUrl,
        dataType: "jsonp",
        data: n,
        jsonp: "callback",
        jsonpCallback: "newCommentListCallBack",
        cache: !0,
        success: function (e) {
          if (e) {
            t.hotCmtBlock.hide();
            var n = t.processComment(e.comments, t.newLimit);
            t.newCmtBlock.html(s.newCmtList({
              cmtList: n,
              noData: 0 == n.length && t.isComment,
              adHtml: a.getCookie("hideAdHtml") || 1 != t.curIndex ? "" : t.adHtml,
              threshold: t.replyLimit,
              limitHeight: t.limitHeight,
              height: t.newHeight,
              allowCmt: t.allowCmt
            })), t.alreadyReport(t.newCmtBlock), i(window).scrollTop(0), t.totalPageCount = Math.ceil(e.count / t.newLimit), t.paging.html(t.getPagingHtml(t.curIndex, t.totalPageCount)).show()
          }
          t.loadingDom && t.loadingDom.hide()
        }
      })
    }, updateTitle: function (e) {
      this.getTitleCallback && this.getTitleCallback(e), this.docTitle = e
    }, alreadyReport: function (e) {
      for (var t = this.reportArr, s = 0, a = t.length; a > s; s++) {
        var n = t[s], r = e.find("[data-commentid=" + n + "]");
        r.each(function (e, t) {
          i(t).addClass("w-report-already").text("已举报")
        })
      }
    }, initReportDom: function () {
      this.maskDom.hide(), this.reportDom.hide(), this.choseDom.show(), this.sucessDom.hide(), this.choseDom.find("li").eq(0).addClass("on").siblings().removeClass("on"), this.choseDom.find("#texts").val("")
    }
  });
  return nanalys
});